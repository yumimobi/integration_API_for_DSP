# PROTOCOL OF PROTOBUF

- [PROTOCOL OF PROTOBUF](#protocol-of-protobuf)
    - [Instructions of protocol](#instructions-of-protocol)
    - [Notice about protocol](#notice-about-protocol)
    - [Request](#request)
        - [BidRequest](#bidrequest)
        - [BidRequest.App](#bidrequestapp)
        - [BidRequest.Device](#bidrequestdevice)
            - [BidRequest.Device.Geo](#bidrequestdevicegeo)
        - [BidRequest.Imp](#bidrequestimp)
            - [BidRequest.Impression.Banner](#bidrequestimpressionbanner)
            - [BidRequest.Impression.Video](#bidrequestimpressionvideo)
            - [BidRequest.Impression.NativeRequest](#bidrequestimpressionnativerequest)
                - [NativeRequest.Asset](#nativerequestasset)
                    - [NativeRequest.Asset.Image](#nativerequestassetimage)
                    - [NativeRequest.Asset.Title](#nativerequestassettitle)
                    - [NativeRequest.Asset.Data](#nativerequestassetdata)
            - [BidRequest.Impression.Pmp](#bidrequestimpressionpmp)
                - [BidRequest.Impression.Pmp.Deal](#bidrequestimpressionpmpdeal)
        - [BidRequest.User](#bidrequestuser)
            - [BidRequest.User.Data](#bidrequestuserdata)
                - [BidRequest.User.Data.Segment](#bidrequestuserdatasegment)
        - [BidRequest.Site](#bidrequestsite)
            - [BidRequest.Site.Publisher](#bidrequestsitepublisher)
    - [Response](#response)
        - [BidResponse](#bidresponse)
        - [BidResponse.SeatBid](#bidresponseseatbid)
            - [BidResponse.SeatBid.Bid](#bidresponseseatbidbid)
                - [NativeResponse](#nativeresponse)
                    - [NativeResponse.Asset](#nativeresponseasset)
    - [Win Notice](#win-notice)

## Instructions of protocol

There are three steps in RTB processing:

1. YUMI Adx send DSP Bid Request

2. DSP reply YUMI Adx Bid Response

3. YUMI Adx send DSP Win Notice

## Notice about protocol

1. YUMI Adx's protocol refer to [OpenRTB specification](https://openrtb.github.io/OpenRTB/) and have a few modifications.

2. Use HTTP POST, enable keep-alive, massage formatter is json. Timeout is 360ms and Content-Type is application/json in request header.

3. Please return HTTP status 204(No Content) when you don't participate to auction.

4. The request method of win-notice, impression-notice and click-notice are GET.

## Request

### BidRequest

| parameter              | type   | default value | mandatory | description                                                                                                                                                                                              |
| ---------------------- | ------ | ------------- | --------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id                     | string |               | yes       | request ID, is a unique string consist of 32 characters and generated by YUMI Adx, such as "57a6a0811829faf34a78ca625c383ec9"                                                                            |
| app                    | object |               | yes       | Application information                                                                                                                                                                                  |
| device                 | object |               | yes       | Device information                                                                                                                                                                                       |
| imp[]                  | object |               | yes       | Impression information, only have one imp object in each request                                                                                                                                         |
| bcat[]                 | object |               | no        | banned category, view the detailed category [IAB §5.1](https://github.com/openrtb/OpenRTB/blob/master/OpenRTB-API-Specification-Version-2-3-FINAL.pdf)                                                   |
| user                   | object |               | no        | User information                                                                                                                                                                                         |
| site                   | object |               | no        | Site information                                                                                                                                                                                         |
| test                   | bool   | false         | no        | indicate whether this request is for testing. Default value is false。DSP must return an ad in response when this request is for testing. The return ads will not show to users and will not be charged. |
| extensions[version]    | int32  |               | yes       | current protocol version, current value is 110                                                                                                                                                           |
| extensions[need_https] | bool   | false         | no        | for material's link or tracking url link, whether the prefix is https. default value is false                                                                                                            |

### BidRequest.App

| parameter | type   | default value | mandatory | description                                                                                                                                                      |
| --------- | ------ | ------------- | --------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id        | string |               | yes       | Application ID, generated by YUMI Adx, such as "z0000001" or "iq3nktkh"                                                                                          |
| name      | string |               | yes       | Application name, such as "曙光之战" or "My Talking Tom"                                                                                                         |
| ver       | string |               | no        | Application version                                                                                                                                              |
| bundle    | string |               | no        | package name or bundle ID, such as "com.zplay.demo"                                                                                                              |
| cat[]     | string |               | no        | Application category, please view [IAB §6.1](https://github.com/openrtb/OpenRTB/blob/master/OpenRTB-API-Specification-Version-2-3-FINAL.pdf) to get all category |
| publisher | object |               | no        | [Publisher information](#bidrequestsitepublisher)                                                                                                                |

### BidRequest.Device

| parameter               | type   | default value | mandatory | description                                                                                                                                                                                                                                                                                                                                                                    |
| ----------------------- | ------ | ------------- | --------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| os                      | string |               | yes       | the value should be lowercase and are "ios", "android" or "wp" (windows phone)                                                                                                                                                                                                                                                                                                 |
| dnt                     | bool   | false         | no        | do not tracking                                                                                                                                                                                                                                                                                                                                                                |
| osv                     | string |               | yes       | Os version, such as "9.0.1"                                                                                                                                                                                                                                                                                                                                                    |
| make                    | string |               | no        | manufacturer, such as "Samsung"                                                                                                                                                                                                                                                                                                                                                |
| model                   | string |               | no        | device model, such as "iPhone"                                                                                                                                                                                                                                                                                                                                                 |
| ip                      | string |               | yes       | ipv4 address, such as "8.8.8.8"                                                                                                                                                                                                                                                                                                                                                |
| ua                      | string |               | no        | user agent, such as "Mozilla/5.0(iPhone; U; CPU iPhone like Mac OS X; en-us) AppleWebKit/528.18 (KHTML, like Gecko) Version/4.0 Mobile/7A341 Safari/528.16"                                                                                                                                                                                                                    |
| hwv                     | string |               | no        | hardware version, such as "6S" is hardware version of iPhone 6S                                                                                                                                                                                                                                                                                                                |
| w                       | int32  |               | no        | screen width of device, unit: pixel, such as 1920                                                                                                                                                                                                                                                                                                                              |
| h                       | int32  |               | no        | screen height of device, unit: pixel, such as 1080                                                                                                                                                                                                                                                                                                                             |
| ppi                     | int32  |               | no        | Device screen pixel density, unit: number of pixels per inch, such as 400                                                                                                                                                                                                                                                                                                      |
| pxratio                 | double |               | no        | device pixel ratio, is the ratio between physical pixels and logical pixels. For instance, the iPhone 4 and iPhone 4S report a device pixel ratio of 2, because the physical linear resolution is double the logical linear resolution. Physical resolution: 960 x 640. Logical resolution: 480 x 320.                                                                         |
| macsha1                 | string |               | no        | mac address encrypted using SHA1                                                                                                                                                                                                                                                                                                                                               |
| didsha1                 | string |               | no        | device ID encrypted using SHA1, in Android device, the value should be IMEI; in CDMA device, the value should be meid; in iOS device, the value should be null                                                                                                                                                                                                                 |
| language                | string |               | no        | system language                                                                                                                                                                                                                                                                                                                                                                |
| dpidsha1                | string |               | yes       | in Android device, the value should be ANDROID ID encrypted by SHA1; in iOS device, the value is ADID(also called by IDFA) encrypted by SHA1, such as "8a319e9fdf05dd8f571b6e0dc2dc2a8263a6974b"                                                                                                                                                                               |
| connectiontype          | enum   |               | no        | 0: unknown, 1: ethernet, 2: WI-FI, 3: Unknown cellular network, 4: 2G, 5: 3G, 6: 4G, more detail, please see the proto file                                                                                                                                                                                                                                                    |
| devicetype              | enum   |               | no        | 1: mobile device,4: phone, 5: pad                                                                                                                                                                                                                                                                                                                                              |
| geo                     | object |               | no        | [Geo](#bidrequestdevicegeo), Longitude and latitude information                                                                                                                                                                                                                                                                                                                |
| extensions[plmn]        | string |               | no        | public land mobile network (PLMN), as defined in telecommunications regulation, is a network that is established and operated by an administration or by a recognized operating agency (ROA) for the specific purpose of providing land mobile telecommunications services to the public, such as "46000"                                                                      |
| extensions[imei]        | string |               | no        | International Mobile Equipment Identity, is a number, usually unique, to identify 3GPP and iDEN mobile phones, as well as some satellite phones. (sending meid(mobile equipment identifier) if the mobile is CDMA2000)                                                                                                                                                         |
| extensions[imsi]        | string |               | no        | international mobile subscriber identity, is used to identify the user of a cellular network and is a unique identification associated with all cellular networks                                                                                                                                                                                                              |
| extensions[idfv]        | string |               | no        | identifierForVendor, please view [more info](https://developer.apple.com/documentation/uikit/uidevice/1620059-identifierforvendor)                                                                                                                                                                                                                                             |
| extensions[mac]         | string |               | no        | edia access control address, is a unique identifier assigned to a network interface controller (NIC) for communications at the data link layer of a network segment. MAC addresses are used as a network address for most IEEE 802 network technologies, including Ethernet and Wi-Fi. In this context, MAC addresses are used in the medium access control protocol sublayer. |
| extensions[android_id]  | string |               | no        | Android Id明文                                                                                                                                                                                                                                                                                                                                                                 |
| extensions[adid]        | string |               | no        | for iOS, it is IDFA( Identifier for Advertising); for Android, it is AAID(Google Advertising ID)                                                                                                                                                                                                                                                                               |
| extensions[orientation] | int    |               | no        | the orientation of device when request is sent, 1: portrait, 2: landscape                                                                                                                                                                                                                                                                                                      |

#### BidRequest.Device.Geo

| parameter          | type   | default value | mandatory | description                                                                                                                                                                          |
| ------------------ | ------ | ------------- | --------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| lat                | double |               | no        | latitude, comply with WGS84, such as 39.9167                                                                                                                                         |
| lon                | double |               | no        | longitude, comply with WGS84, such as 116.3833                                                                                                                                       |
| country            | string |               | no        | country code, for reference [ISO-3166-1 Alpha-3](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-3)                                                                                   |
| region             | string |               | no        | it's province name when country is Chinese; it's state postal code if the country is United State, please see other countries [ISO-3166-2](https://en.wikipedia.org/wiki/ISO_3166-2) |
| city               | string |               | no        | city name, such as "beijing"                                                                                                                                                         |
| LocationType       | enum   |               | no        | location info where is from, 1: gps coordinate, 2: IP, 3: users.                                                                                                                     |
| extensions[accu]   | int32  | 0             | no        | accurate, for reference [Decimal degrees](https://en.wikipedia.org/wiki/Decimal_degrees)                                                                                             |
| extensions[street] | string |               | no        | street name                                                                                                                                                                          |

### BidRequest.Imp

| parameter                    | type   | default value | mandatory | description                                                                                                                                                       |
| ---------------------------- | ------ | ------------- | --------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id                           | string |               | yes       | impression ID                                                                                                                                                     |
| bidfloor                     | double |               | yes       | floor price, unit is cent                                                                                                                                         |
| bidfloorcur                  | string | "CNY"         | no        | currency, values are "CNY" or "USD", only support "CNY" for now                                                                                                   |
| instl                        | bool   | false         | no        | 是否为全屏插屏广告, true 表示全屏插屏, false 表示不是全屏插屏                                                                                                     |
| banner                       | object |               | no        | banner object                                                                                                                                                     |
| video                        | object |               | no        | video object                                                                                                                                                      |
| native                       | object |               | no        | native object, is consist of BidRequest_Imp_Native                                                                                                                |
| pmp                          | object |               | no        | pmp object, only be available when you made a deal with YUMI adx in advance                                                                                       |
| tagid                        | string |               | no        | tgg id, or called by slot ID, ad unit ID, etc. generated by YUMI adx, such as "nsgh7kw2"                                                                          |
| extensions[is_splash_screen] | bool   | false         | no        | whether is the splash ads                                                                                                                                         |
| extensions[inventory_types]  | int[]  | [1]           | yes       | types of material, 1: image, 2: image and text, 3: video, 4: html5 snippet, 5: text, 6: native, 7: html5 URL. by default the value is image if this array is null |
| extensions[ad_type]          | int    | 0             | no        | ads type, 0: banner, 1: interstitial, 2: splash, 3: native, 4: rewarded video, 255: unknown                                                                       |
| extensions[tag_name]         | string |               | no        | tag name, or called by slot name, ad unit name, etc|

#### BidRequest.Impression.Banner

| parameter | type  | default value | mandatory | description                                                                   |
| --------- | ----- | ------------- | --------- | ----------------------------------------------------------------------------- |
| w         | int32 |               | yes       | width of slot                                                                 |
| h         | int32 |               | yes       | height of slot                                                                |
| pos       | enum  | 0             | no        | position of slot, 0: unknown, 4: head, 5: bottom, 6: side bar, 7: full screen |

#### BidRequest.Impression.Video

| parameter   | type  | default value | mandatory | description                                                                                                                                                |
| ----------- | ----- | ------------- | --------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------- |
| mimes       | array |               | yes       | Whitelist of content MIME types supported. Popular MIME types include, but are not limited to "image/jpg", "image/gif" and "application/x-shockwave-flash" |
| protocols   | array |               | yes       | Array of supported video bid response protocols                                                                                                            |
| minduration | int32 |               | no        | Minimum video ad duration in seconds                                                                                                                       |
| maxduration | int32 |               | no        | Maximum video ad duration in seconds                                                                                                                       |
| w           | int32 |               | yes       | Width of the player in pixels                                                                                                                              |
| h           | int32 |               | yes       | height of the player in pixels                                                                                                                             |
| pos         | enum  | 0             | no        | position of slot, 0: unknown, 4: head, 5: bottom, 6: side bar, 7: full screen                                                                              |

#### BidRequest.Impression.NativeRequest

| parameter | type  | default value | mandatory | description                                                   |
| --------- | ----- | ------------- | --------- | ------------------------------------------------------------- |
| layout    | int   |               | no        | layout of native ads, 2: app wall, 3: news feeds, 5: CAROUSEL |
| assets    | array |               | no        | elements of native ads                                        |

##### NativeRequest.Asset

| parameter | type   | default value | mandatory | description                                           |
| --------- | ------ | ------------- | --------- | ----------------------------------------------------- |
| id        | int    |               | yes       | element ID                                            |
| required  | bool   | false         | no        | whether element is needed, true: yes, false: optional |
| title     | object |               | no        | title elements                                        |
| img       | object |               | no        | image elements                                        |
| data      | object |               | no        | data object                                           |

###### NativeRequest.Asset.Image

| parameter | type | default value | mandatory | description                                      |
| --------- | ---- | ------------- | --------- | ------------------------------------------------ |
| type      | int  |               | no        | types of image, 1: Icon, 2: LOGO, 3: Large image |
| w         | int  |               | no        | width of image                                   |
| h         | int  |               | no        | height of image                                  |

###### NativeRequest.Asset.Title

| parameter | type | default value | mandatory | description     |
| --------- | ---- | ------------- | --------- | --------------- |
| len       | int  |               | yes       | length of title |

###### NativeRequest.Asset.Data

| parameter | type | default value | mandatory | description                                                                                                                                                                                                                                                                                                                                                                                               |
| --------- | ---- | ------------- | --------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| type      | int  |               | no        | types of data, 1: Sponsor name, should include brand name, 2: description, 3: score, 4: number of likes, 5: number of downloads, 6: price of product, 7: price of sales, always display with price of product together and show user the discount, 8: phone number, 9: address, 10: second description, 11: link that show to user, 12: click-to-action button, 1001: video URL, 1002: number of comments |
| len       | int  |               | no        | length of data                                                                                                                                                                                                                                                                                                                                                                                            |

#### BidRequest.Impression.Pmp

| parameter       | type  | default value | mandatory | description                          |
| --------------- | ----- | ------------- | --------- | ------------------------------------ |
| private_auction | bool  |               | no        | always is true                       |
| deals           | array |               | yes       | [Deal](#bidrequestimpressionpmpdeal) |

##### BidRequest.Impression.Pmp.Deal

| parameter   | type   | default value | mandatory | description                                                                 |
| ----------- | ------ | ------------- | --------- | --------------------------------------------------------------------------- |
| id          | string |               | yes       | deal ID                                                                     |
| bidfloor    | double |               | yes       | the price agreed by you and YUMI adx                                        |
| bidfloorcur | string | CNY           | no        | currency                                                                    |
| at          | int    | 3             | no        | auction type, 1: first price, 2: second price, 3: fixed price, default is 3 |

### BidRequest.User

| parameter | type   | default value | mandatory | description                                   |
| --------- | ------ | ------------- | --------- | --------------------------------------------- |
| id        | string |               | no        | user ID                                       |
| yob       | int32  |               | no        | year of birth, such as 1995                   |
| gender    | string |               | no        | male: "M", female: "F", other: "0"            |
| geo       | object |               | no        | [Geo](#bidrequestdevicegeo), location of user |
| data[]    | object |               | no        | Data object, extension of user                |

#### BidRequest.User.Data

| parameter | type   | default value | mandatory | description          |
| --------- | ------ | ------------- | --------- | -------------------- |
| segment[] | object |               | no        | Segmentation of user |

##### BidRequest.User.Data.Segment

| parameter | type   | default value | mandatory | description    |
| --------- | ------ | ------------- | --------- | -------------- |
| id        | string |               | no        | segment id     |
| value     | string |               | no        | segment values |

### BidRequest.Site

| parameter  | type     | default value | mandatory | description                                                                                                              |
| ---------- | -------- | ------------- | --------- | ------------------------------------------------------------------------------------------------------------------------ |
| id         | string   |               | no        | site ID                                                                                                                  |
| name       | string   |               | no        | site name                                                                                                                |
| domain     | string   |               | no        | site domain                                                                                                              |
| cat        | string[] |               | no        | site category, for reference [IAB §6.1](http://www.iab.net/media/file/OpenRTB_API_Specification_Version2.0_FINAL.PDF)    |
| sectioncat | string[] |               | no        | channel category, for reference [IAB §6.1](http://www.iab.net/media/file/OpenRTB_API_Specification_Version2.0_FINAL.PDF) |
| pagecat    | string[] |               | no        | page category, for reference [IAB §6.1](http://www.iab.net/media/file/OpenRTB_API_Specification_Version2.0_FINAL.PDF)    |
| page       | string   |               | no        | page URL                                                                                                                 |
| ref        | string   |               | no        | Referrer URL                                                                                                             |
| search     | string   |               | no        | search keyword that goto current page                                                                                    |
| mobile     | bool     | true          | no        | whether this page is optimized for mobile browser, false: no; true: yes                                                  |
| keywords   | string   |               | no        | keywords of current page separated by ","                                                                                |
| publisher  | object   |               | no        | [publisher info](#bidrequestsitepublisher)                                                                               |

#### BidRequest.Site.Publisher

| parameter | type     | default value | mandatory | description                                                                                                                |
| --------- | -------- | ------------- | --------- | -------------------------------------------------------------------------------------------------------------------------- |
| id        | string   |               | no        | publisher ID                                                                                                               |
| name      | string   |               | no        | publisher name                                                                                                             |
| domain    | string   |               | no        | top-level domain                                                                                                           |
| cat       | string[] |               | no        | publisher category, for reference [IAB §6.1](http://www.iab.net/media/file/OpenRTB_API_Specification_Version2.0_FINAL.PDF) |

## Response

### BidResponse

| parameter | type   | default value | mandatory | description                                                                                                                                                                                                       |
| --------- | ------ | ------------- | --------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id        | string | yes           |           | request ID, is same with ID in BidRequest                                                                                                                                                                         |
| seatbid[] | array  | no            |           | SeatBid array, it will be filled in if you return an ad, only have one seatbid[] in one response                                                                                                                  |
| nbr       | enum   | no            |           | no bidding reason, 0: unknown error, 1: technical error, 2: invalid request, 4: suspected nonhuman requests, 5: proxy server ip from data center, 6: unsupported device, 7: blocked publisher, 8: unmatched users |

### BidResponse.SeatBid

| parameter | type  | default value | mandatory | description                                       |
| --------- | ----- | ------------- | --------- | ------------------------------------------------- |
| bid[]     | array |               | no        | Bid object, only accept one bid[] in one response |

#### BidResponse.SeatBid.Bid

| parameter                      | type     | default value | mandatory | description                                                                                                                                                                                                            |
| ------------------------------ | -------- | ------------- | --------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id                             | string   |               | yes       | bid ID, generated by DSP                                                                                                                                                                                               |
| impid                          | string   |               | yes       | impression ID                                                                                                                                                                                                          |
| price                          | double   |               | yes       | bid price, unit is cent, should higher than floor price of request, or will be treated as invalid response. for currently, the currency only support "RMB"                                                             |
| adid                           | string   |               | yes       | material ID, is generated by DSP. please guarantee same material ID has same parameters excluding nurl, clkurl, imptrackers and clktrackers.                                                                           |
| nurl                           | string   |               | no        | Win notice URL called using GET method by YUMI adx if the bid wins. in this URL, you can use [macro](supported_macros.md). recommend using [impression tracking url](#bidresponseseatbidbidext) to get the win notice. |
| bundle                         | string   |               | no        | package name or bundle, such an "com.zplay.demo"                                                                                                                                                                       |
| iurl                           | string   |               | no        | image URL of creative. this parameter is mandatory when the ad type is banner                                                                                                                                          |
| w                              | int32    |               | no        | creative width, this parameter is mandatory when the return ads'size isn't same with the slot size.                                                                                                                    |
| h                              | int32    |               | no        | creative height                                                                                                                                                                                                        |
| cat                            | string[] |               | no        | advertising category, for reference [IAB §6.1](http://www.iab.net/media/file/OpenRTB_API_Specification_Version2.0_FINAL.PDF)                                                                                           |
| adm                            | string   |               | no        | creative, only be used when the ads creative is video. the video must comply with VAST 3.0 specification, for reference [VAST 3.0 specification](http://www.iab.com/wp-content/uploads/2015/06/VASTv3_0.pdf)           |
| native                         | object   |               | no        | native ads                                                                                                                                                                                                             |
| dealid                         | string   |               | no        | deal id, only be used when the response is PMP model                                                                                                                                                                   |
| extensions[app_ver]            | string   |               | no        | promoted applicaiton version. it's necessary when the promoted product is an application or game.                                                                                                                      |
| extensions[clkurl]             | string   |               | no        | cilck URL. allows to use macros [macro](supported_macros.md), for example, http://www.zplay.cn/ad/{AUCTION_BID_ID}                                                                                                     |
| extensions[imptrackers][]      | string[] |               | no        | impression tracking links, allows to list many links, allows to use macros [macro](supported_macros.md)                                                                                                                |
| extensions[clktrackers][]      | string[] |               | no        | clicks tracking links, allows to list many links, allows to use macros [macro](supported_macros.md)                                                                                                                    |
| extensions[html_snippet]       | string   |               | no        | html snippet                                                                                                                                                                                                           |
| extensions[inventory_type]     | int      | 1             | no        | types of material, 1: image, 2: image and text, 3: video, 4: html5 snippet, 5: text, 6: native, 7: html5 url                                                                                                           |
| extensions[title]              | string   |               | no        | title of ads of image and text                                                                                                                                                                                         |
| extensions[desc]               | string   |               | no        | description of ads of image and text                                                                                                                                                                                   |
| extensions[action]             | int      | 1             | no        | types of action, 1: open the clkurl within webview in-app, 2: open the clkurl within system browser, 3: open map, 4: open dial, 5: play video, 6: download App, 7: arouse App                                          |
| extensions[download_file_name] | string   |               | no        | file name of downloaded, it's mandatory when action is 6(download app)                                                                                                                                                 |
| extensions[fallback_url]       | string   |               | no        | jumping url that when arousing app failed, allows to use macros [macro](supported_macros.md), for example, http://www.zplay.cn/ad/{AUCTION_BID_ID}                                                                     |
| extensions[fallback_action]    | int      | 1             | no        | action type of fallback_url, 1: open the clkurl within webview in-app, 2: open the clkurl within system browser, 3: open map, 4: open dial, 5: play video, 6: download App, 7: arouse App                              |

##### NativeResponse

| parameter   | type  | default value | mandatory | description                                                              |
| ----------- | ----- | ------------- | --------- | ------------------------------------------------------------------------ |
| assets      | array  |               | yes       | assets of native ads                                                                    |
| link        | object |               | yes       | Link object, using this object when assets object doesn't include link object in itself |
| imptrackers | array  |               | no        | impression trackings                                                                    |

###### NativeResponse.Asset

| parameter | type | default value | mandatory | description        |
| --------- | ---- | ------------- | --------- | ------------------ |
| id        | int    |               | yes       | asset ID          |
| title     | object |               | no        | title             |
| img       | object |               | no        | image             |
| data      | object |               | no        | other information |
| link      | object |               | no        | Link object       |

**NativeResponse.Asset.Title**

| parameter | type   | default value | mandatory | description         |
| --------- | ------ | ------------- | --------- | ------------------- |
| text      | string |               | yes       | content of title |

**NativeResponse.Asset.Image**

| parameter | type   | default value | mandatory | description        |
| --------- | ------ | ------------- | --------- | ------------------ |
| url       | string |               | yes       | image URL             |
| w         | int    |               | no        | image width in pixel  |
| h         | int    |               | no        | image height in pixel |

**NativeResponse.Asset.Data**

| parameter | type   | default value | mandatory | description    |
| --------- | ------ | ------------- | --------- | -------------- |
| label     | string |               | no        | name of data    |
| value     | string |               | yes       | content of data |

**NativeResponse.Asset.Link**

| parameter             | type   | default value | mandatory | description                                                                                                                        |
| --------------------- | ------ | ------------- | --------- | ---------------------------------------------------------------------------------------------------------------------------------- |
| url           | string |               | yes       | target URL which is the jumping URL when user tap the corresponding asset |
| clicktrackers | array  |               | no        | click tracking URL                                                         |

| extensions[link_type] | int    |               | 是        | types of link, 1: open the clkurl within webview in-app, 2: open the clkurl within system browser, 3: open map, 4: open dial, 5: play video, 6: download App, 7: arouse App |

## Win Notice

sending the billable info to DSP that win the auction through substitute the macro of imptrackers.
